#include <iostream>
#include <string>
#include <utility>
#include <vector>

int main(int argc, char *argv[]) {
	std::string arg = "|/||||";
  const std::vector<std::pair<std::string, std::string>> replacement = {
      {"%*", "*%"},
      {"%|", "%*"},
      {"*|", "**"},
      {"|*", "t"},
      {"t*", "*t"},
      {"t%", "%t"},
      {"%t", "%v|"},
      {"t", "|"},
      {"%v", "?d"},
      {"?d", "d?"},
      {"|d", "d|"},
      {"?", "%"},
      {"*d", "h"},
      {"h*", "oh"},
      {"h%", "h"},
      {"h", ""},
      {"*", ""},
      {"d", "|_"},
      {"/|", "-k"},
      {"k|", "kk"},
      {"k", "|+"},
      {"+|", "|+"},
      {"-", "ey"},
      {"|e", "e|"},
      {"y", "%"},
      {"eo", "0o"},
      {"e", ""},
      {"|_", ".a"},
      {"a.", ".a"},
      {"..", "."},
      {".aaaaaaaaaa", "a,."},
      {",a", "a,"},
      {".aaaaaaaaa", "9"},
      {".aaaaaaaa", "8"},
      {".aaaaaaa", "7"},
      {".aaaaaa", "6"},
      {".aaaaa", "5"},
      {".aaaa", "4"},
      {".aaa", "3"},
      {".aa", "2"},
      {".a", "1"},
      {".", "0"},
      {",", ""},
      {"a", ".a"},
      {"o", "p||||||||||"},
      {"|p", "p|"},
      {"pp", "p"},
      {"%", "u"},
      {"u+", "u"},
      {"u", "_"},
      {"|+", "|)+"},
      {")", "(>"},
      {">+", "+>"},
      {"+", "{"},
      {"{", "|"},
      {">>>>>", "="},
      {"|=", "="},
      {"(=", "="},
      {"(", "/"},
      {"p=", "=<"},
      {"<0", "0<"},
      {"<1", "1<"},
      {"<2", "2<"},
      {"<3", "3<"},
      {"<4", "4<"},
      {"<5", "5<"},
      {"<6", "6<"},
      {"<7", "7<"},
      {"<8", "8<"},
      {"<9", "9<"},
      {"<<<<<", "$"},
      {"0$", "$0"},
      {"1$", "$1"},
      {"2$", "$2"},
      {"3$", "$3"},
      {"4$", "$4"},
      {"5$", "$5"},
      {"6$", "$6"},
      {"7$", "$7"},
      {"8$", "$8"},
      {"9$", "$9"},
      {"=$", ".FIN"},
      {"0=", "=0"},
      {"1=", "=1"},
      {"2=", "=2"},
      {"3=", "=3"},
      {"4=", "=4"},
      {"5=", "=5"},
      {"6=", "=6"},
      {"7=", "=7"},
      {"8=", "=8"},
      {"9=", "=9"},
      {"_>", ""},
      {"0>", ">0"},
      {"1>", ">1"},
      {"2>", ">2"},
      {"3>", ">3"},
      {"4>", ">4"},
      {"5>", ">5"},
      {"6>", ">6"},
      {"7>", ">7"},
      {"8>", ">8"},
      {"9>", ">9"},
      {"p>", ""},
      {"p", ".FIN"},
      {"_", ".FIN"},
  };

	while (true) {
		bool found = false;
		for (size_t i = 0; i < replacement.size(); i++) {
			const auto& what = replacement[i].first;
			auto pos = arg.find(what);
			found = (pos != arg.npos);
      if (!found)
        continue;

			const auto& rep = replacement[i].second;
			std::cout << arg << ", " << what << " => " << rep << std::endl;
		  arg.replace(pos, what.length(), rep);

      pos = arg.find("FIN");
			if (pos != arg.npos) {
        std::cout << arg << ", FIN =>" << std::endl;
        arg.replace(pos, 3, "");
        found = false;
			}
			break;
		}

		if (!found) {
			break;
		}
	}

	std::cout << arg << std::endl;
	return 0;
}
